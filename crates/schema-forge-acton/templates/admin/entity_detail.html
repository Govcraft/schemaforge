{% extends "admin/base.html" %}

{% block title %}{{ entity.display_value }} - {{ schema.name }} - SchemaForge Admin{% endblock %}

{% block content %}
<div class="breadcrumbs text-sm">
    <ul>
        <li><a href="/admin/">Dashboard</a></li>
        <li><a href="{{ url_prefix }}/{{ schema.url_name }}">{{ schema.name }}</a></li>
        <li><a href="{{ url_prefix }}/{{ schema.url_name }}/entities">Entities</a></li>
        <li>{{ entity.display_value }}</li>
    </ul>
</div>
<div class="flex justify-between items-center mb-6">
    <div>
        <h2>{{ entity.display_value }}</h2>
        <div class="text-sm text-base-content/40 mt-1">
            ID: <code>{{ entity.id }}</code>
        </div>
    </div>
    <div class="flex gap-1.5">
        <a href="{{ url_prefix }}/{{ schema.url_name }}/entities/{{ entity.id }}/edit" class="btn btn-primary btn-sm">Edit</a>
        <button
            class="btn btn-error btn-sm"
            hx-delete="{{ url_prefix }}/{{ schema.url_name }}/entities/{{ entity.id }}"
            hx-confirm="Are you sure you want to delete this entity?"
            hx-target="body"
            hx-push-url="{{ url_prefix }}/{{ schema.url_name }}/entities"
        >Delete</button>
    </div>
</div>

<div class="card card-border bg-base-200">
    <div class="card-body">
        {% for (label, value) in entity.field_values %}
        <div class="detail-row">
            <div class="detail-label">{{ label }}</div>
            <div class="detail-value">{% if value.is_empty() %}<span class="text-base-content/60">-</span>{% else %}{{ value }}{% endif %}</div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
